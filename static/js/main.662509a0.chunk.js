(this["webpackJsonpcurso-de-introduccion-a-react"]=this["webpackJsonpcurso-de-introduccion-a-react"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),c=n(4),r=n.n(c),s=(n(12),n(6)),i=n(2);function d(){var e=function(e,t){var n=a.a.useState(!1),o=Object(i.a)(n,2),c=o[0],r=o[1],s=a.a.useState(!0),d=Object(i.a)(s,2),l=d[0],u=d[1],j=a.a.useState(!0),m=Object(i.a)(j,2),h=m[0],b=m[1],O=a.a.useState(t),x=Object(i.a)(O,2),f=x[0],g=x[1];return a.a.useEffect((function(){try{setTimeout((function(){var n,o=localStorage.getItem(e);o?n=JSON.parse(o):(localStorage.setItem(e,JSON.stringify(t)),n=t),g(n),u(!1),b(!0)}),1e3)}catch(c){r(c)}}),[h]),{item:f,saveItem:function(t){try{g(t);var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(c){r(c)}},loading:l,error:c,sincronize:function(){u(!0),b(!1)}}}("todoMachineTODOS_V1",[]),t=e.item,n=e.saveItem,o=e.loading,c=e.error,r=e.sincronize,d=a.a.useState(""),l=Object(i.a)(d,2),u=l[0],j=l[1],m=a.a.useState(!1),h=Object(i.a)(m,2),b=h[0],O=h[1],x=t.filter((function(e){return!!e.completed})).length,f=t.length,g=[];g=!u.length>=1?t:t.filter((function(e){var t=e.text.toLowerCase(),n=u.toLowerCase();return t.includes(n)}));return{loading:o,error:c,totalTodos:f,completedTodos:x,searchValue:u,setSearchValue:j,searchTodos:g,completeTodo:function(e){var o=t.findIndex((function(t){return t.text===e})),a=Object(s.a)(t);a[o].completed=!a[o].completed,n(a)},deleteTodo:function(e){var o=t.findIndex((function(t){return t.text===e})),a=Object(s.a)(t);a.splice(o,1),n(a)},addTodo:function(e){var o=Object(s.a)(t);o.push({text:e,completed:!1}),n(o)},openModal:b,setOpenModal:O,sincronizeTodos:r}}n(13);var l=n(0);function u(e){var t=e.completedTodos,n=e.totalTodos,o=e.loading;return Object(l.jsxs)("h2",{className:"TodoCounter ".concat(!!o&&"TodoCounter__loading"),children:["Has completado ",t," de ",n," TODOs"]})}n(15);function j(e){var t=e.searchValue,n=e.setSearchValue,o=e.loading;return Object(l.jsx)("input",{className:"TodoSearch",placeholder:"Busca tus TODOs",value:t,onChange:function(e){n(e.target.value)},disabled:!!o})}n(16);function m(e){var t=e.children||e.render;return Object(l.jsxs)("section",{className:"TodoList__container",children:[e.error&&e.onError(),e.loading&&e.onLoading(),!e.loading&&!e.totalTodos&&e.onEmptyTodos(),!!e.totalTodos&&!e.searchTodos.length&&e.onEmptySearchResults(e.searchText),Object(l.jsx)("ul",{children:!e.loading&&!e.error&&e.searchTodos.map(t)})]})}n(17);function h(e){var t=e.completed,n=e.onComplete,o=e.text,a=e.onDelete;return Object(l.jsxs)("li",{className:"TodoItem",children:[Object(l.jsx)("span",{className:"Icon Icon-check ".concat(t&&"Icon-check--active"),onClick:n,children:"\u2714"}),Object(l.jsx)("p",{className:"TodoItem-p ".concat(t&&"TodoItem-p--complete"),children:o}),Object(l.jsx)("span",{className:"Icon Icon-delete",onClick:a,children:"\u2716"})]})}n(18);function b(e){var t=e.openModal,n=e.setOpenModal;return Object(l.jsx)("button",{className:"CreateTodoButton",onClick:function(){n(!t)},children:"+"})}n(19);function O(e){var t=e.children;return r.a.createPortal(Object(l.jsx)("div",{className:"ModalBackground",children:t}),document.getElementById("modal"))}n(20);function x(e){var t=e.addTodo,n=e.openModal,o=e.setOpenModal,c=a.a.useState(""),r=Object(i.a)(c,2),s=r[0],d=r[1],u=function(){o(!n)};return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==s?(t(s),u()):u()},children:[Object(l.jsxs)("label",{children:["Escribe tu nuevo TODO",Object(l.jsx)("input",{value:s,onChange:function(e){d(e.target.value)},placeholder:"Ingresa tu nueva tarea"})]}),Object(l.jsxs)("div",{className:"TodoForm--buttonContainer",children:[Object(l.jsx)("button",{onClick:u,type:"button",className:"TodoForm__button TodoForm__button--cancel",children:"Cancelar"}),Object(l.jsx)("button",{type:"submit",className:"TodoForm__button TodoForm__button--add",children:"Anadir"})]})]})}n(21);function f(){return Object(l.jsxs)(a.a.Fragment,{children:[Object(l.jsxs)("div",{className:"ItemLoading",children:[Object(l.jsx)("div",{className:"ItemLoading__Shadow"}),Object(l.jsxs)("div",{className:"ItemLoading__text",children:[Object(l.jsx)("div",{className:"ItemLoading__text--left"}),Object(l.jsx)("div",{className:"ItemLoading__text--right"})]})]}),Object(l.jsxs)("div",{className:"ItemLoading",children:[Object(l.jsx)("div",{className:"ItemLoading__Shadow"}),Object(l.jsxs)("div",{className:"ItemLoading__text",children:[Object(l.jsx)("div",{className:"ItemLoading__text--left"}),Object(l.jsx)("div",{className:"ItemLoading__text--right"})]})]}),Object(l.jsxs)("div",{className:"ItemLoading",children:[Object(l.jsx)("div",{className:"ItemLoading__Shadow"}),Object(l.jsxs)("div",{className:"ItemLoading__text",children:[Object(l.jsx)("div",{className:"ItemLoading__text--left"}),Object(l.jsx)("div",{className:"ItemLoading__text--right"})]})]})]})}function g(e){var t=e.children,n=e.loading;return Object(l.jsx)("header",{children:a.a.Children.toArray(t).map((function(e){return a.a.cloneElement(e,{loading:n})}))})}n(22);function p(e){var t=function(e){var t=a.a.useState(!1),n=Object(i.a)(t,2),o=n[0],c=n[1];return a.a.useEffect((function(){var e=function(e){"todoMachineTODOS_V1"===e.key&&(console.log("hubo cambios"),c(!0))};return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}}),[]),{show:o,toggleShow:function(){e(),c(!1)}}}(e.sincronize),n=t.show,o=t.toggleShow;return n?Object(l.jsx)("div",{className:"changeAlert",children:Object(l.jsxs)("div",{className:"changeAlert__container",children:[Object(l.jsx)("h2",{className:"changeAlert__text",children:"Hubo cambios vuelva a cargar la pagina"}),Object(l.jsx)("button",{onClick:function(){return o()},className:"changeAlert__button",children:"Re-cargar"})]})}):null}var v=function(){var e=d(),t=e.error,n=e.loading,o=e.searchTodos,c=e.completeTodo,r=e.deleteTodo,s=e.openModal,i=e.totalTodos,v=e.searchValue,T=e.setSearchValue,_=e.completedTodos,N=e.addTodo,I=e.setOpenModal,S=e.sincronizeTodos;return Object(l.jsxs)(a.a.Fragment,{children:[Object(l.jsxs)(g,{loading:n,children:[Object(l.jsx)(u,{totalTodos:i,completedTodos:_}),Object(l.jsx)(j,{searchValue:v,setSearchValue:T})]}),Object(l.jsx)(m,{error:t,loading:n,searchTodos:o,totalTodos:i,searchText:v,onError:function(){return Object(l.jsx)("h2",{children:"Hubo un error"})},onLoading:function(){return Object(l.jsx)(f,{})},onEmptyTodos:function(){return Object(l.jsx)("h2",{children:"\xa1Crea tu primer TODO!"})},onEmptySearchResults:function(e){return Object(l.jsxs)("h2",{children:["No se encontr\xf3 ning\xfan resultado para ",e,", prueba con otra palabra"]})},render:function(e){return Object(l.jsx)(h,{text:e.text,completed:e.completed,onComplete:function(){return c(e.text)},onDelete:function(){return r(e.text)}},e.text)}}),!!s&&Object(l.jsx)(O,{children:Object(l.jsx)(x,{addTodo:N,openModal:s,setOpenModal:I})}),Object(l.jsx)(b,{openModal:s,setOpenModal:I}),Object(l.jsx)(p,{sincronize:S})]})};r.a.render(Object(l.jsx)(v,{}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.662509a0.chunk.js.map